
<!-- Sidebar  -->
<template name="sidebar">
    <nav id="sidebar">
        <div class="sidebar-header">
            <img src="/assets/images/logo_black_alpha.png"/>
            <h3>Planmap</h3>
        </div>
        <div class="sidebar-content">

            {{> bodySelector}}

            {{#if currentBody}}
            {{> mapsMenu}}
            {{/if}}

        </div>
    </nav>
</template>

<!-- DROPDOWN MENU WITH BODIES TO SELECT -->
<template name="bodySelector">
    <div class="row">
    <div class="dropdown mx-auto">
        <button
          class="btn btn-primary"
          type="button"
          id="dropdownMenuButton"
          data-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false">
            Select body
        </button>
        <div class="dropdown-menu"
          aria-labelledby="dropdownMenuButton">

            {{#each body in this}}
            <button
              class="dropdown-item"
              type="button"
              id={{body.name}}>

                {{body.name}}

            </button>
            {{/each}}

        </div>
    </div>
    </div>
</template>


<!-- ACCORDION MENU WITH SELECTED BODY LAYERS -->
<template name="mapsMenu">
    <ul class="list-unstyled components">

        {{#each map in currentData.maps}}
        <div class="accordion" id="accordionButtonsGroup">

            <div class="card">
                <div class="card-header" id="heading{{map.name}}">
                    <h2 class="mb-0">
                        <button class="btn btn-link" type="button"
                          data-toggle="collapse"
                          data-target="#{{map.name}}"
                          aria-expanded="false"
                          aria-controls="{{map.name}}"
                          >
                            {{map.name}}
                        </button>
                    </h2>
                </div>
                <div id="{{map.name}}"
                  class="collapse {{#unless @index}}show{{/unless}}"
                  aria-labelledby="heading{{map.name}}"
                  data-parent="#accordionButtonsGroup"
                  >
                    <div class="card-body">
                        <p class="card-title">
                            {{map.pm_id}}
                        </p>
                        <!-- We need here a set of buttons:
                        - (check) visualize the map
                        - (button) download the package
                        - (button) go to package data in file server
                        - (button) open modal with geoserver endpoints
                        - (button) link to nbviewer -->
                        <div class="btn-toolbar justify-content-center"
                          role="toolbar" aria-label="Toolbar with button groups">
                            {{#with map}}
                            {{> toggleLayer}}
                            {{> downloadPackage}}
                            {{> gotoData}}
                            {{> getNotebook}}
                            {{> readInfo}}
                            {{/with}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {{/each}}
    </ul>
</template>


<template name="toggleLayer">
    <div class="input-group">
        <!-- <div class="input-group-prepend"> -->
            <div class="input-group-text">
                <input type="checkbox" aria-label="Checkbox for package">
            </div>
        <!-- </div> -->
        <!-- <input type="text" class="form-control" aria-label="Text input with checkbox"> -->
    </div>
      <!-- <div class="btn-group-toggle" data-toggle="buttons">
        <button id="visible"
          class="btn btn-outline-secondary btn-sm float-right"
          style="border:0">
            <input type="checkbox" autocomplete="off">
            <i class="fas fa-eye"></i>
        </button>
    </div> -->
</template>

<template name="downloadPackage">
    <button id="download" type="button"
        class="btn btn-outline-secondary btn-sm float-right"
        style="border:0">
        <i class="fas fa-download"></i>
    </button>
</template>

<template name="gotoData">
    <button id="data" type="button"
        class="btn btn-outline-secondary btn-sm float-right"
        style="border:0">
        <i class="fas fa-folder-open"></i>
    </button>
</template>

<template name="getNotebook">
    <button id="jupyter" type="button"
        class="btn btn-outline-secondary btn-sm float-right"
        style="border:0"
        >
        <i class="fas fa-scroll"></i>
        <!--
        <i class="fas fa-file"></i>
        <i class="fas fa-file-alt"></i>
         -->
    </button>
</template>

<template name="readInfo">
    <button id="info" type="button"
      class="btn btn-outline-secondary btn-sm float-right"
      style="border:0"
      >
        <i class="fas fa-info"></i>
        <!--
        <i class="fas fa-wifi"></i>
         -->
    </button>
</template>




<template name="layerSelector">
    <div class="form-check" style="margin-left:10px">
        <input id="{{layerID}}" type="checkbox" class="form-check-input">
        <label for="{{layerID}}" class="form-check-label">
            {{layerLabel}}
        </label>
    </div>
</template>

<template name="OLD_layerSelector">
    <div class="form-check" style="margin-left:10px">
        <input id="{{layerID}}" type="checkbox" class="form-check-input">
        <label for="{{layerID}}" class="form-check-label">

            {{layerLabel}}

        </label>
    </div>
</template>


<template name="OLD_layerSwitcher">
    <div class="form-check" style="margin-left:20px">
        <input id="{{layerID}}" type="radio" class="form-check-input"
            name="{{layerGroup}}" checked="{{selected}}">
        <label class="form-check-label col-12" for="{{layerID}}">

            {{layerLabel}}

            <button id="{{packagename}}" type="button"
                class="btn btn-outline-secondary btn-sm float-right"
                style="border:0">
                <i class="fas fa-download"></i>
            </button>
        </label>
    </div>
</template>
