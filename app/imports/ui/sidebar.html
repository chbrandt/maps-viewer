
<!-- Sidebar  -->
<template name="sidebar">
    <nav id="sidebar">
        <div class="sidebar-header">
            <img src="/assets/images/logo_black_alpha.png"/>
            <h3>Planmap</h3>
        </div>
        <div class="sidebar-content">
            {{> bodiesSelector}}
            {{#if currentBody}}
                {{> mapMenu}}
            {{/if}}
        </div>
    </nav>
</template>

<template name="bodiesSelector">
    <div class="row">
    <div class="dropdown mx-auto">
        <button
          class="btn btn-secondary dropdown-toggle"
          type="button"
          id="dropdownMenuButton"
          data-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false">
            Select body
        </button>
        <div
          class="dropdown-menu"
          aria-labelledby="dropdownMenuButton">
            {{#each body in this}}
                <button
                  class="dropdown-item"
                  type="button"
                  id={{body.name}}>
                    {{body.name}}
                </button>
            {{/each}}
        </div>
    </div>
    </div>
</template>

<template name="mapMenu">
    <ul class="list-unstyled components">
    {{#each currentData.maps}}

        <div class="accordion" id="accordionButtonsGroup">
            <div class="card">
                <div class="card-header" id="heading{{name}}">
                    <h2 class="mb-0">
                        <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#{{name}}" aria-expanded="false" aria-controls="{{name}}">
                          {{name}}
                        </button>
                    </h2>
                </div>

                <div id="{{name}}" class="collapse {{#unless @index}}show{{/unless}}" aria-labelledby="heading{{name}}" data-parent="#accordionButtonsGroup">
                    <div class="card-body">
                        <ul>
                                <li>bla</li>
                            {{#each layers.multiple}}
                                <!-- {{> layerSelector}} -->
                            {{/each}}
                            <hr />
                            {{#each layers.exclusive}}
                                <!-- {{> layerSwitcher}} -->
                            {{/each}}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- <li >
            <a href="#{{name}}"
              data-toggle="collapse"
              aria-expanded="false"
              class="dropdown-toggle">
                {{name}}
            </a>
            <div
              class="btn-toolbar"
              role="toolbar"
              aria-label="Toolbar with button groups">
                <div
                  class="btn-group mr-2"
                  role="group"
                  aria-label="First group">
                </div>
            </div>
            <ul class="collapse list-unstyled" id="{{name}}">
                {{#each layers.multiple}}
                    {{> layerSelector}}
                {{/each}}
                <hr />
                {{#each layers.exclusive}}
                    {{> layerSwitcher}}
                {{/each}}
            </ul>
        </li> -->
    {{/each}}
    </ul>
</template>

<template name="layerSelector">
    <div
      class="form-check"
      style="margin-left:10px">
        <input type="checkbox" class="form-check-input" id={{layerID}}>
        <label
          class="form-check-label"
          for={{layerID}}>
            {{layerLabel}}
        </label>
    </div>
</template>

<template name="layerSwitcher">
    <div class="form-check" style="margin-left:20px">
        <input type="radio" class="form-check-input" id={{layerID}} name={{layerGroup}} checked={{selected}}>
        <label class="form-check-label col-12" for={{layerID}}>
            {{layerLabel}}
            <button type="button" class="btn btn-outline-secondary btn-sm float-right"
                style="border:0" id={{packageID}}>
                <i class="fas fa-download"></i>
            </button>
        </label>
    </div>
</template>
